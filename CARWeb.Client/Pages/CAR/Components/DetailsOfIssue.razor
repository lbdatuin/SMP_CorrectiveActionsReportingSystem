<div class="main-cont">
    <div class="main-input-cont">
        <label class="d-flex mb-3">
            Details Of Issue <label class="ml-1" style="color: #FF4F53;">*</label>
        </label>
        <ListFileUpload title="DetailsOfIssue" isActive="true" OnFilesSelected="f => DetailsOfIssueFiles = f.ToList()" />
        <textarea rows="9" placeholder="-" @bind="Payload.DetailsOfIssue.DetailsOfIssueDescription"></textarea>
    </div>

    <div class="main-input-cont">
        <label class="d-flex mb-3">
            Evidence <label class="ml-1" style="color: #FF4F53;">*</label>
        </label>
        <ListFileUpload title="Evidence" isActive="true" OnFilesSelected="f => EvidenceFiles = f.ToList()" />
        <textarea rows="9" placeholder="-" @bind="Payload.DetailsOfIssue.EvidenceDescription"></textarea>
    </div>

    <div class="main-input-cont">
        <label class="d-flex mb-3">
            Requirements <label class="ml-1" style="color: #FF4F53;">*</label>
        </label>
        <ListFileUpload title="Requirements" isActive="true" OnFilesSelected="f => RequirementsFiles = f.ToList()" />
        <textarea rows="9" placeholder="-" @bind="Payload.DetailsOfIssue.RequirementsDescription"></textarea>
    </div>
</div>

@code {
    [Parameter] public CreateCARHeaderDTO Payload { get; set; } = new CreateCARHeaderDTO();

    private List<IBrowserFile> DetailsOfIssueFiles = new();
    private List<IBrowserFile> EvidenceFiles = new();
    private List<IBrowserFile> RequirementsFiles = new();

    // Expose these to parent so it can upload during Submit
    public List<IBrowserFile> GetDetailsOfIssueFiles() => DetailsOfIssueFiles;
    public List<IBrowserFile> GetEvidenceFiles() => EvidenceFiles;
    public List<IBrowserFile> GetRequirementsFiles() => RequirementsFiles;
}
