@inject ModifiedSnackBar ModifiedSnackbar

<InputDesign />

<MudDialog>
    <DialogContent>

        <div class="px-sm-2 mt-n4 px-1 pb-4 form-div">
            <DialogHeader title="STATE YOUR REASON" icon="@Icons.Material.Filled.Assignment" />
            <div class="mt-3">
                <form @onsubmit="HandleSubmit">
                    <div class="main-input-cont">
                        <label class="d-flex mb-3">Reason <label class="ml-1" style="color: #FF4F53;">*</label></label>
                        <textarea rows="9" @bind="Payload.Reason" placeholder="e.g. a sample value or a short reason"></textarea>
                    </div>
                    <div class="d-flex justify-content-end">
                        <SubmitButton isLoading="isLoading" button_name="SUBMIT" className="submit-btn" />
                    </div>
                </form>
            </div>

        </div>
    </DialogContent>
</MudDialog>

@code {

    [CascadingParameter] MudDialogInstance MudDialog { get; set; } = new MudDialogInstance();

    [Parameter] public CreateReturnCommentDTO Payload { get; set; } = new CreateReturnCommentDTO();

    public bool isLoading = false;

    void Cancel() => MudDialog.Cancel();

    void HandleSubmit()
    {
        if (string.IsNullOrEmpty(Payload.Reason))
        {
            ModifiedSnackbar.ShowMessage("Please state your reason.", Severity.Warning);
            return;
        }

        MudDialog.Close(DialogResult.Ok(Payload));
    }

}
